{
  "name": "daylog/daylog",
  "description": "Daylog â€” clean architecture journaling app",
  "type": "project",
  "authors": [
    {
      "name": "Pavel Konovalov",
      "role": "Developer"
    }
  ],
  "require": {
    "php": "^8.1",
    "bcosca/fatfree-core": "3.8.2"
  },
  "require-dev": {
    "codeception/codeception": "^5.2",
    "codeception/module-phpbrowser": "^3.0",
    "codeception/module-asserts": "*",
    "codeception/module-rest": "^3.4",
    "codeception/module-db": "*",
    "phpstan/phpstan": "^2.1",
    "phpstan/phpstan-strict-rules": "^2.0",
    "phpstan/phpstan-phpunit": "^2.0",
    "squizlabs/php_codesniffer": "^3.10",
    "phpmd/phpmd": "^2.15"
  },
  "autoload": {
    "psr-4": {
      "Daylog\\": "backend/src/"
    }
  },
  "autoload-dev": {
    "psr-4": {
      "Daylog\\Tests\\": "backend/tests/",
      "Daylog\\Tests\\Support\\": "backend/tests/_support/"
    }
  },
  "scripts": {
    "prepare-writable-dirs":     "php backend/scripts/prepare-writable-dirs.php",
    "remove-codeception-banner": "php backend/scripts/remove-codeception-banner.php",
    "set-git-commit-template":   "php backend/scripts/set-git-commit-template.php",
    "db-setup":                  "php backend/scripts/db-setup.php",
    
    "post-install-cmd": [
      "@remove-codeception-banner",
      "@prepare-writable-dirs",
      "@set-git-commit-template",
      "@db-setup"
    ],
    
    "post-update-cmd": [
      "@remove-codeception-banner",
      "@prepare-writable-dirs",
      "@set-git-commit-template",
      "@db-setup"
    ],
    
    "stan": "phpstan analyse -c phpstan.neon.dist",

    "cs": "phpcs -q --report=summary",
    "cs:fix": "phpcbf -q",
    "md": "phpmd backend/src,backend/tests text phpmd.xml.dist --exclude backend/tests/_support",
    "lint": [
      "@cs",
      "@md",
      "@stan"
    ]    
  },
  "minimum-stability": "stable",
  "prefer-stable": true
}
